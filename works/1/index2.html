<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #demo{
            width: 400px;
            height: 400px;
            border: 1px solid #ccc;
            margin: 0 auto;
            text-align: center;
            position: relative
        }
        #appear{
            width: 300px;
            height: 300px;
            background-color: #f00;
        }
        #menu{
            position: absolute;
            width: 200px;
            height: 400px;
            top: 0;
            right:0;
            background-color: RGBA(100,100,100,0.5);
            display:none
        }
        #menu ul{
            list-style: none;
        }
        #menu ul li{
            float: left;
            width: 99px;
            height: 89px;
        }
    </style>
</head>
<body>
<div id="demo">
    <button>点我</button>
    <div id="appear"></div>
    <div id="menu">
        <ul>
            <li>#000</li>
            <li>#ccc</li>
            <li>#ff0</li>
            <li>#f0f</li>
            <li>#f00</li>
            <li>#00f</li>
            <li>#0f0</li>
            <li>#0ff</li>
        </ul>
        <button>确定</button>
        <button>取消</button>
        <button>重置</button>
    </div>
</div>
</body>
</html>
<script>
    var btns=document.getElementsByTagName("button");
    var lis=document.getElementsByTagName("li");
    var appear=document.getElementById("appear");
    var menu=document.getElementById("menu");
        for(var i=0;i<btns.length-1;i++){
            (function (j) {
                btns[j].onclick=function(){
                    if(j==0){
                        menu.style.display="block"
                    }
                    else{
                        menu.style.display="none"
                    }
                }
            })(i)
        }
    function Mo() {
        appear.style.backgroundColor=this.innerText;
    }
        for(var i=0; i<lis.length;i++){
            lis[i].addEventListener("mouseover",Mo);
            lis[i].addEventListener("click",function () {
                for(var j=0;j<lis.length;j++){
                    lis[j].style.backgroundColor="RGBA(100,100,100,0.5)";
                    lis[j].removeEventListener("mouseover",Mo)
                }
                this.style.backgroundColor="RGBA(255,0,0,0.5)";
                appear.style.backgroundColor=this.innerText;
            });
    }
    btns[2].addEventListener("click",function () {
        for(var i=0;i<lis.length;i++){
            lis[i].style.backgroundColor="RGBA(100,100,100,0.5)";
            lis[i].addEventListener("mouseover",Mo);
        }
        appear.style.backgroundColor="#f00";
        menu.style.display="none"
    });
    btns[3].addEventListener("click",function () {
        for(var i=0;i<lis.length;i++){
            lis[i].style.backgroundColor="RGBA(100,100,100,0.5)";
            lis[i].addEventListener("mouseover",Mo);
        }
        appear.style.backgroundColor="#f00";
    })
</script>